# ğŸ“„ PRD: YTSub - YouTube Subtitle Editor

## 1. Overview

### 1.0 Service Info

| í•­ëª©         | ë‚´ìš©                                      |
| ------------ | ----------------------------------------- |
| **ì„œë¹„ìŠ¤ëª…** | YTSub                                     |
| **ë„ë©”ì¸**   | https://ytsub.org                         |
| **ì„¤ëª…**     | YouTube ìë§‰ ì¶”ì¶œ, í¸ì§‘, ë‹¤ìš´ë¡œë“œ ë„êµ¬    |
| **Tagline**  | "Extract, Edit, Export YouTube Subtitles" |

### 1.1 Problem Statement

YouTube ìë§‰(ìë™ ìƒì„± ë˜ëŠ” ì—…ë¡œë“œ)ì€ íƒ€ì´ë°ì´ ë¶€ì •í™•í•œ ê²½ìš°ê°€ ë§ìŒ. íŠ¹íˆ ì˜ì–´ í•™ìŠµìš© ì‰ë„ì‰ì—ì„œëŠ” ì •í™•í•œ íƒ€ì´ë°ì´ í•„ìˆ˜ì¸ë°, ê¸°ì¡´ ë„êµ¬ë“¤ì€:

- ì‹¤ì‹œê°„ ë¯¸ë¦¬ë³´ê¸°ê°€ ì—†ê±°ë‚˜
- ë‹¨ì¶•í‚¤ ì§€ì›ì´ ë¶€ì¡±í•˜ê±°ë‚˜
- ë‹¤ì–‘í•œ í¬ë§· ì§€ì›ì´ ì•ˆ ë¨

### 1.2 Solution

**ì‹¤ì‹œê°„ YouTube ì¬ìƒê³¼ ì—°ë™ëœ ìë§‰ í¸ì§‘ê¸°** - ë‹¨ì¶•í‚¤ë¡œ ë¹ ë¥´ê²Œ íƒ€ì´ë°ì„ ì¡°ì •í•˜ê³ , ë‹¤ì–‘í•œ í¬ë§·ìœ¼ë¡œ ë‚´ë³´ë‚´ê¸°

### 1.3 Target Users

- ì˜ì–´ í•™ìŠµ ì½˜í…ì¸  ì œì‘ì
- ìë§‰ ë²ˆì—­ê°€
- ì‰ë„ì‰/ë”•í…Œì´ì…˜ í•™ìŠµì
- ì˜ìƒ í¸ì§‘ì

---

## 2. User Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Landing Page  â”‚â”€â”€â”€â”€â–¶â”‚   Editor Page   â”‚â”€â”€â”€â”€â–¶â”‚    Download     â”‚
â”‚                 â”‚     â”‚                 â”‚     â”‚     Modal       â”‚
â”‚  YouTube URL    â”‚     â”‚  - Preview      â”‚     â”‚                 â”‚
â”‚  ì…ë ¥ + ì–¸ì–´ì„ íƒ â”‚     â”‚  - Cue List     â”‚     â”‚  Format ì„ íƒ    â”‚
â”‚                 â”‚     â”‚  - Shortcuts    â”‚     â”‚  & ë‹¤ìš´ë¡œë“œ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Feature Specification

### 3.1 Landing Page

| ìš”ì†Œ            | ì„¤ëª…                                      |
| --------------- | ----------------------------------------- |
| Input           | YouTube URL ë˜ëŠ” Video ID ì…ë ¥            |
| Validation      | ìœ íš¨í•œ YouTube IDì¸ì§€ ê²€ì¦ (11ì, ì •ê·œì‹) |
| Language Select | ì˜ìƒì—ì„œ ì œê³µí•˜ëŠ” ìë§‰ ì–¸ì–´ ëª©ë¡ í‘œì‹œ     |
| Submit          | Enter ë˜ëŠ” ë²„íŠ¼ í´ë¦­ ì‹œ Editorë¡œ ì´ë™     |
| Error           | ì˜ëª»ëœ URL/IDì¼ ê²½ìš° ì—ëŸ¬ ë©”ì‹œì§€          |

**URL íŒŒì‹± ì§€ì› í˜•ì‹:**

- `https://www.youtube.com/watch?v=VIDEO_ID`
- `https://youtu.be/VIDEO_ID`
- `VIDEO_ID` (11ì)

**ê¸°ë³¸ ì–¸ì–´ ì„ íƒ ë¡œì§:**

1. ì˜ìƒ ê¸°ë³¸ ì–¸ì–´(defaultAudioLanguage) ìë§‰ì´ ìˆìœ¼ë©´ ì„ íƒ
2. ì—†ìœ¼ë©´ ìˆ˜ë™ ìë§‰ ì¤‘ ì²« ë²ˆì§¸
3. ê·¸ê²ƒë„ ì—†ìœ¼ë©´ ìë™ ìƒì„±(asr) ìë§‰

**Landing Page Flow:**

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                             â”‚
â”‚              ğŸ¬ YTSub                       â”‚
â”‚    Extract, Edit, Export YouTube Subtitles  â”‚
â”‚                                             â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ YouTube URL or Video ID             â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                             â”‚
â”‚              [ Load Subtitles ]             â”‚
â”‚                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â†“ (ë¡œë”© í›„)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Select Subtitle Language                  â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ English                           â–¼ â”‚   â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚     âœ“ English                               â”‚
â”‚       Korean                                â”‚
â”‚       English (auto-generated)              â”‚
â”‚                                             â”‚
â”‚              [ Start Editing ]              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.2 Editor Page

#### 3.2.1 Layout (Desktop)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [â†] Video Title                    00:01:23.456    [Shortcuts] [â†“]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                      â”‚     â”‚  Subtitle Cue List              â”‚  â”‚
â”‚  â”‚   YouTube Player     â”‚     â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚
â”‚  â”‚                      â”‚     â”‚  â”‚ [â–¶] 001 12CPS ...      [â‹®] â”‚ â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚  â”‚ [â–¶] 002 16CPS ...      [â‹®] â”‚ â”‚  â”‚
â”‚                               â”‚  â”‚ [â–¶] 003 13CPS ...      [â‹®] â”‚ â”‚  â”‚
â”‚  Speed: 0.5x 0.75x [1x] 1.25x â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚
â”‚                               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.2.2 Cue Item êµ¬ì¡°

```typescript
interface SubtitleCue {
  id: string; // uuid (ë¦¬ë Œë”ë§ keyìš©)
  index: number; // í‘œì‹œìš© ìˆœë²ˆ (1ë¶€í„°)
  startTime: number; // ms
  endTime: number; // ms
  text: string;
}
```

#### 3.2.3 Cue Item UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â–¶]  001  12CPS  â†’ 00:00:05,939 â†•  Hello world this is a test      [â‹®] â”‚
â”‚            2.1s  â† 00:00:08,039 â†•                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  â”‚     â”‚      â”‚           â”‚         â”‚            â”‚                â”‚
  â”‚     â”‚      â”‚           â”‚         â”‚            â”‚                â””â”€ Context Menu
  â”‚     â”‚      â”‚           â”‚         â”‚            â””â”€ Text (editable)
  â”‚     â”‚      â”‚           â”‚         â””â”€ Time Stepper (â†• or input)
  â”‚     â”‚      â”‚           â””â”€ Start/End Time
  â”‚     â”‚      â””â”€ Duration (seconds)
  â”‚     â””â”€ CPS Badge
  â””â”€ Play/Pause Button (í•´ë‹¹ cueë§Œ ì¬ìƒ)
```

#### 3.2.4 Cue Item í‘œì‹œ ì •ë³´

| í•„ë“œ       | ì„¤ëª…                         | í¸ì§‘ ê°€ëŠ¥   |
| ---------- | ---------------------------- | ----------- |
| Index      | ìˆœë²ˆ (001, 002...)           | âŒ (ìë™)   |
| CPS        | Characters Per Second        | âŒ (ê³„ì‚°ê°’) |
| Duration   | (endTime - startTime) / 1000 | âŒ (ê³„ì‚°ê°’) |
| Start Time | ì‹œì‘ ì‹œê°„ (HH:MM:SS,mmm)     | âœ…          |
| End Time   | ì¢…ë£Œ ì‹œê°„ (HH:MM:SS,mmm)     | âœ…          |
| Text       | ìë§‰ ë‚´ìš©                    | âœ…          |

**CPS ìƒ‰ìƒ ê¸°ì¤€:**

- ğŸŸ¢ Green: 0-12 (í¸ì•ˆí•¨)
- ğŸŸ¡ Yellow: 13-15 (ì ì •)
- ğŸ”´ Red: 16+ (ë„ˆë¬´ ë¹ ë¦„)

#### 3.2.5 Cue Row States

| State    | ìŠ¤íƒ€ì¼                                          |
| -------- | ----------------------------------------------- |
| Default  | White background, subtle bottom border          |
| Hover    | Cream background tint                           |
| Selected | Blue left border (4px), light blue background   |
| Playing  | Yellow/gold left border, pulsing glow animation |

#### 3.2.6 Play Button ë™ì‘

| ìƒíƒœ                | ì•„ì´ì½˜ | í´ë¦­ ì‹œ                             |
| ------------------- | ------ | ----------------------------------- |
| Idle                | `â–¶`    | í•´ë‹¹ cueì˜ startTime â†’ endTime ì¬ìƒ |
| Playing (this cue)  | `â¸`    | ì¼ì‹œì •ì§€                            |
| Playing (other cue) | `â–¶`    | í˜„ì¬ ì¬ìƒ ì¤‘ì§€ â†’ ì´ cue ì¬ìƒ        |

#### 3.2.7 Context Menu Actions

| Action          | ì„¤ëª…                      | ë‹¨ì¶•í‚¤             |
| --------------- | ------------------------- | ------------------ |
| Insert Before   | í˜„ì¬ cue ì•ì— ë¹ˆ cue ì‚½ì… | `Ctrl+Shift+Enter` |
| Insert After    | í˜„ì¬ cue ë’¤ì— ë¹ˆ cue ì‚½ì… | `Ctrl+Enter`       |
| Delete Line     | í˜„ì¬ cue ì‚­ì œ             | `Ctrl+Backspace`   |
| Duplicate Line  | í˜„ì¬ cue ë³µì œ (ì•„ë˜ì—)    | `Ctrl+D`           |
| Split Line      | ì»¤ì„œ ìœ„ì¹˜ì—ì„œ cue ë¶„í•     | `Ctrl+Shift+S`     |
| Merge with Next | ë‹¤ìŒ cueì™€ ë³‘í•©           | `Ctrl+M`           |

---

### 3.3 YouTube Player Integration

#### 3.3.1 Player ê¸°ëŠ¥

```typescript
interface PlayerControls {
  play(): void;
  pause(): void;
  seekTo(ms: number): void;
  getCurrentTime(): number; // ms
  getPlayerState(): 'playing' | 'paused' | 'ended';
}
```

#### 3.3.2 Cue ì¬ìƒ ëª¨ë“œ

| ëª¨ë“œ            | ë™ì‘                                  | ë‹¨ì¶•í‚¤        |
| --------------- | ------------------------------------- | ------------- |
| Play Cue        | startTime â†’ endTime ì¬ìƒ í›„ ìë™ ì •ì§€ | `Space`       |
| Play from Start | startTimeë¶€í„° ê³„ì† ì¬ìƒ               | `Shift+Space` |
| Play to End     | í˜„ì¬ ìœ„ì¹˜ â†’ endTimeê¹Œì§€ ì¬ìƒ          | `Alt+Space`   |
| Loop Cue        | startTime â†’ endTime ë°˜ë³µ ì¬ìƒ         | `Ctrl+L`      |

#### 3.3.3 Time Sync (requestAnimationFrame)

```typescript
const syncLoop = () => {
  const currentTime = player.getCurrentTime();

  // í˜„ì¬ ì‹œê°„ì— í•´ë‹¹í•˜ëŠ” cue í•˜ì´ë¼ì´íŠ¸
  const activeCue = cues.find((cue) => currentTime >= cue.startTime && currentTime <= cue.endTime);

  // endTime ë„ë‹¬ ì‹œ ìë™ ì •ì§€ (Play Cue ëª¨ë“œ)
  if (playMode === 'cue' && currentTime >= targetEndTime) {
    player.pause();
    return;
  }

  requestAnimationFrame(syncLoop);
};
```

#### 3.3.4 Cue ì¬ìƒ ë¡œì§

```typescript
const playCue = (cue: SubtitleCue) => {
  // 1. í•´ë‹¹ cue ì„ íƒ
  setSelectedCueId(cue.id);

  // 2. startTimeìœ¼ë¡œ seek
  player.seekTo(cue.startTime);

  // 3. endTime ì„¤ì • (ì—¬ê¸°ì„œ ìë™ ì •ì§€)
  setTargetEndTime(cue.endTime);
  setPlayMode('cue');

  // 4. ì¬ìƒ
  player.play();
};
```

---

### 3.4 Keyboard Shortcuts

#### 3.4.1 ì¬ìƒ ê´€ë ¨

| ë‹¨ì¶•í‚¤                | Action          | ì„¤ëª…                     |
| --------------------- | --------------- | ------------------------ |
| `Space`               | Play/Pause Cue  | ì„ íƒëœ cue êµ¬ê°„ ì¬ìƒ     |
| `Shift+Space`         | Play from Start | startTimeë¶€í„° ì—°ì† ì¬ìƒ  |
| `Ctrl+L`              | Toggle Loop     | í˜„ì¬ cue ë°˜ë³µ ì¬ìƒ       |
| `â†` / `â†’`             | Seek Â±1s        | 1ì´ˆ ì•/ë’¤ë¡œ              |
| `Shift+â†` / `Shift+â†’` | Seek Â±0.1s      | 0.1ì´ˆ ì•/ë’¤ë¡œ (ë¯¸ì„¸ì¡°ì •) |

#### 3.4.2 ì‹œê°„ ì¡°ì • (ì„ íƒëœ cue)

| ë‹¨ì¶•í‚¤    | Action           | ì„¤ëª…                           |
| --------- | ---------------- | ------------------------------ |
| `[`       | Start -100ms     | startTime 0.1ì´ˆ ë‹¹ê¹€           |
| `]`       | Start +100ms     | startTime 0.1ì´ˆ ëŠ¦ì¶¤           |
| `Shift+[` | End -100ms       | endTime 0.1ì´ˆ ë‹¹ê¹€             |
| `Shift+]` | End +100ms       | endTime 0.1ì´ˆ ëŠ¦ì¶¤             |
| `Ctrl+[`  | Both -100ms      | ì „ì²´ êµ¬ê°„ 0.1ì´ˆ ë‹¹ê¹€           |
| `Ctrl+]`  | Both +100ms      | ì „ì²´ êµ¬ê°„ 0.1ì´ˆ ëŠ¦ì¶¤           |
| `S`       | Set Start to Now | í˜„ì¬ ì¬ìƒ ì‹œê°„ì„ startTimeìœ¼ë¡œ |
| `E`       | Set End to Now   | í˜„ì¬ ì¬ìƒ ì‹œê°„ì„ endTimeìœ¼ë¡œ   |

#### 3.4.3 ë„¤ë¹„ê²Œì´ì…˜

| ë‹¨ì¶•í‚¤              | Action         | ì„¤ëª…                 |
| ------------------- | -------------- | -------------------- |
| `â†‘` / `â†“`           | Move Selection | ì´ì „/ë‹¤ìŒ cue ì„ íƒ   |
| `Ctrl+â†‘` / `Ctrl+â†“` | Move Cue       | ì„ íƒëœ cue ìˆœì„œ ì´ë™ |
| `Ctrl+G`            | Go to Cue      | íŠ¹ì • ë²ˆí˜¸ë¡œ ì´ë™     |
| `Ctrl+F`            | Find           | í…ìŠ¤íŠ¸ ê²€ìƒ‰          |

#### 3.4.4 í¸ì§‘

| ë‹¨ì¶•í‚¤         | Action                            |
| -------------- | --------------------------------- |
| `Enter`        | Edit Text (í…ìŠ¤íŠ¸ í¸ì§‘ ëª¨ë“œ ì§„ì…) |
| `Escape`       | Exit Edit (í¸ì§‘ ëª¨ë“œ ì¢…ë£Œ)        |
| `Ctrl+Z`       | Undo                              |
| `Ctrl+Shift+Z` | Redo                              |
| `Ctrl+S`       | Quick Save (LocalStorage)         |

---

### 3.5 Download / Export

#### 3.5.1 ì§€ì› í¬ë§·

| í¬ë§·       | í™•ì¥ì  | ìš©ë„                 |
| ---------- | ------- | -------------------- |
| SubRip     | `.srt`  | ê°€ì¥ ë²”ìš©ì           |
| WebVTT     | `.vtt`  | HTML5 video, ì›¹ í‘œì¤€ |
| SubViewer  | `.sub`  | ë ˆê±°ì‹œ í”Œë ˆì´ì–´      |
| YouTube    | `.sbv`  | YouTube ì—…ë¡œë“œìš©     |
| Plain Text | `.txt`  | í…ìŠ¤íŠ¸ë§Œ (ì‹œê°„ ì œì™¸) |
| JSON       | `.json` | ê°œë°œììš©, API ì—°ë™   |

#### 3.5.2 JSON ìŠ¤í‚¤ë§ˆ

```json
{
  "version": "1.0",
  "videoId": "dQw4w9WgXcQ",
  "language": "en",
  "cues": [
    {
      "index": 1,
      "startTime": 5939,
      "endTime": 9029,
      "startTimeFormatted": "00:00:05,939",
      "endTimeFormatted": "00:00:09,029",
      "duration": 3090,
      "text": "Hello world"
    }
  ],
  "metadata": {
    "totalCues": 42,
    "totalDuration": 180000,
    "exportedAt": "2025-01-15T10:30:00Z"
  }
}
```

#### 3.5.3 Download Modal UI

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Download Subtitle              âœ•   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚  Choose file extension              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ SubRip Text (.srt)        â–¼ â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚    âœ“ SubRip Text (.srt)             â”‚
â”‚      Web Video Text Tracks (.vtt)   â”‚
â”‚      SubViewer (.sub)               â”‚
â”‚      YouTube Subtitles (.sbv)       â”‚
â”‚      Plain Text (.txt)              â”‚
â”‚      JSON (.json)                   â”‚
â”‚                                     â”‚
â”‚  Filename: subtitle_dQw4w9WgXcQ     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ subtitle_dQw4w9WgXcQ        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                     â”‚
â”‚           [ Download ]              â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 3.6 Auto Save

#### 3.6.1 ì €ì¥ ì „ëµ

| Trigger              | ì €ì¥ ìœ„ì¹˜    | ì„¤ëª…                    |
| -------------------- | ------------ | ----------------------- |
| ë³€ê²½ í›„ 2ì´ˆ debounce | LocalStorage | í¸ì§‘ ì¤‘ ìë™ ì €ì¥       |
| íƒ­ ì¢…ë£Œ/ìƒˆë¡œê³ ì¹¨     | LocalStorage | beforeunload ì´ë²¤íŠ¸     |
| ìˆ˜ë™ ì €ì¥ `Ctrl+S`   | LocalStorage | ì¦‰ì‹œ ì €ì¥ + í† ìŠ¤íŠ¸ ì•Œë¦¼ |

#### 3.6.2 Storage Key êµ¬ì¡°

```typescript
// Key: `ytsub_${videoId}`
interface SavedProject {
  videoId: string;
  language: string;
  cues: SubtitleCue[];
  selectedCueId: string | null;
  savedAt: string; // ISO timestamp
  version: number;
}
```

#### 3.6.3 ë³µêµ¬ Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ğŸ”„ Unsaved changes found                  â”‚
â”‚                                             â”‚
â”‚   Last edited: 2025-01-15 10:30:22          â”‚
â”‚   42 cues saved                             â”‚
â”‚                                             â”‚
â”‚   [ Restore ]          [ Start Fresh ]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.6.4 ì €ì¥ ìƒíƒœ í‘œì‹œ

| ìƒíƒœ    | í‘œì‹œ                |
| ------- | ------------------- |
| ì €ì¥ë¨  | â— Saved (ì´ˆë¡ ì )   |
| ì €ì¥ ì¤‘ | â—‹ Saving (íšŒìƒ‰ ì )  |
| ë¯¸ì €ì¥  | â—‰ Unsaved (ì£¼í™© ì ) |

---

### 3.7 Responsive Design

#### 3.7.1 Breakpoints

| Breakpoint | Width      | Layout                            |
| ---------- | ---------- | --------------------------------- |
| Desktop    | â‰¥1024px    | Player ì¢Œì¸¡, Cue List ìš°ì¸¡ (2ì—´)  |
| Tablet     | 768-1023px | Player ìƒë‹¨, Cue List í•˜ë‹¨ (1ì—´)  |
| Mobile     | <768px     | Player ìƒë‹¨ ê³ ì •, Cue List ìŠ¤í¬ë¡¤ |

#### 3.7.2 Mobile Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   YouTube     â”‚  â”‚  â† sticky top
â”‚  â”‚   Player      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  Now: 00:01:23      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [â–¶] 001  12CPSâ”‚  â”‚
â”‚  â”‚ 00:05 â†’ 00:08 â”‚  â”‚
â”‚  â”‚ Hello world...â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [â–¶] 002  16CPSâ”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         ...         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [â®] [â–¶] [â­] [â†“]   â”‚  â† í•˜ë‹¨ ì»¨íŠ¸ë¡¤ë°”
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 3.7.3 Mobile ì œì•½ì‚¬í•­

| ê¸°ëŠ¥          | Desktop        | Mobile              |
| ------------- | -------------- | ------------------- |
| ì‹œê°„ ë¯¸ì„¸ì¡°ì • | `[` `]` ë‹¨ì¶•í‚¤ | í„°ì¹˜ ìŠ¬ë¼ì´ë”       |
| Context Menu  | ìš°í´ë¦­/â‹® ë²„íŠ¼  | Long press / â‹® ë²„íŠ¼ |
| í…ìŠ¤íŠ¸ í¸ì§‘   | inline         | ë³„ë„ Bottom Sheet   |
| ë‹¨ì¶•í‚¤        | Full           | ê¸°ë³¸ë§Œ (ì¬ìƒ/ì •ì§€)  |

#### 3.7.4 Touch Gestures (Mobile)

| Gesture     | Action             |
| ----------- | ------------------ |
| Tap cue     | Select             |
| Double tap  | Edit text          |
| Long press  | Context menu       |
| Swipe left  | Delete (í™•ì¸ í•„ìš”) |
| Swipe right | Duplicate          |

---

## 4. Technical Spec

### 4.1 Tech Stack

| Layer          | Tech                       |
| -------------- | -------------------------- |
| Framework      | Next.js 15+ (App Router)   |
| Styling        | Tailwind CSS               |
| State          | Zustand ë˜ëŠ” useReducer    |
| YouTube        | YouTube IFrame API         |
| Subtitle Fetch | youtubei.js                |
| Deploy         | Vercel                     |
| Domain         | ytsub.org (Cloudflare DNS) |

### 4.2 State Management

```typescript
interface EditorState {
  // Video
  videoId: string;
  playerState: 'loading' | 'ready' | 'playing' | 'paused';
  currentTime: number;

  // Cues
  cues: SubtitleCue[];
  selectedCueId: string | null;
  editingCueId: string | null;

  // Playback
  playMode: 'normal' | 'cue' | 'loop';
  targetEndTime: number | null;

  // History (Undo/Redo)
  history: SubtitleCue[][];
  historyIndex: number;

  // Actions
  updateCue: (id: string, updates: Partial<SubtitleCue>) => void;
  insertCue: (atIndex: number, cue?: Partial<SubtitleCue>) => void;
  deleteCue: (id: string) => void;
  // ...
}
```

### 4.3 API Routes

**Base URL:** `https://ytsub.org/api`

```
GET /api/subtitle/languages?videoId={id}
  Response: {
    languages: [
      { code: 'en', name: 'English', isAuto: false },
      { code: 'ko', name: 'Korean', isAuto: false },
      { code: 'en', name: 'English (auto)', isAuto: true }
    ],
    defaultLanguage: 'en'
  }

GET /api/subtitle?videoId={id}&lang={code}
  Response: {
    videoId: string,
    language: string,
    cues: SubtitleCue[]
  }
```

---

## 5. Future Enhancements (v2+)

| Feature        | ì„¤ëª…                     |
| -------------- | ------------------------ |
| ë‹¤êµ­ì–´ ìë§‰    | ì—¬ëŸ¬ ì–¸ì–´ ìë§‰ ë™ì‹œ ë¡œë“œ |
| AI ìë§‰ ìƒì„±   | Whisper API ì—°ë™         |
| ìë™ ì‹±í¬ ë³´ì • | ì˜¤ë””ì˜¤ íŒŒí˜• ë¶„ì„         |
| í˜‘ì—… í¸ì§‘      | ì‹¤ì‹œê°„ ê³µë™ ì‘ì—…         |
| ìë§‰ ë²ˆì—­      | GPT ì—°ë™ ë²ˆì—­            |
| í”„ë¡œì íŠ¸ ì €ì¥  | í´ë¼ìš°ë“œ ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸°   |

---

## 6. Decisions

| í•­ëª©      | ê²°ì •                                                  |
| --------- | ----------------------------------------------------- |
| ìë§‰ ì–¸ì–´ | ì˜ìƒ ì œê³µ ìë§‰ ëª©ë¡ì—ì„œ ì„ íƒ, ê¸°ë³¸ê°’ì€ ì˜ìƒ ì›ë³¸ ì–¸ì–´ |
| ìë™ ì €ì¥ | LocalStorage, 2ì´ˆ debounce + beforeunload             |
| ë°˜ì‘í˜•    | Desktop/Tablet/Mobile ëŒ€ì‘, Mobileì€ í¸ì§‘ ê¸°ëŠ¥ ê°„ì†Œí™” |
| ì¸ì¦      | ë¶ˆí•„ìš” (ì¶”í›„ Shortglish ì—°ë™ ì‹œ ì„ íƒì )               |

---

## 7. Design Reference

### PostHog Style Guide

- Warm, cream/off-white backgrounds (#EEEFE9)
- Bold, playful typography
- Vibrant accent colors: yellow (#F9BD2B), blue (#1D4AFF), red (#F54E00)
- Rounded corners (12-16px border-radius)
- Warm subtle shadows
- Friendly, approachable SaaS aesthetic
- Dark mode with deep navy/charcoal (#1D1F27)
